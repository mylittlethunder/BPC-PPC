<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cvičení 2 - kontejnery: Zadání</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Cvičení 2 - kontejnery
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Zadání </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1 class="doxsection"><a class="anchor" id="autotoc_md0"></a>
Obsah cvičení</h1>
<p>V tomto cvičení se seznámíme s dalšími knihovnami jazyka C++. Toto cvičení slouží k demonstraci a seznámení se s možnostmi využití objektů jazyka C++ předtím, než začneme tvořit vlastní třídy.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1"></a>
Příklad A</h1>
<p>Úkolem je napsat funkci, která rozloží cestu k souboru na jednotlivé části. Pomocí této funkce program otestuje cesty souborů dodané jako parametr z příkazové řádky a následně bude provádět porovnání s názvem spuštěného programu na základě daných kritérií. Nakonec vytiskne soubory odpovídající daným podmínkám (např. leží ve stejném adresáři, mají stejné jméno souboru ...).</p>
<dl class="section note"><dt>Note</dt><dd>Terminologie: <br  />
Kompletní název souboru s cestou = <b>cesta souboru</b> = <b>název drivu + adresářová cesta + jméno + přípona</b> ( Fully Qualified File Name = FQFN ) <br  />
jméno + přípona = <b>jméno souboru</b><br  />
(drive + cesta = Fully Qualified Path Name = FQPN) <br  />
Cestu souboru předpokládáme ve zjednodušeném formátu odvozeném od Fully Portable Filename. To je pro cestu souboru platí: název drive je jedno písmeno a dvojtečka; oddělovačem jmen v cestě je zpětné lomítko; názvy obsahují písmena, číslice, podtržítko, tečku a pomlčku (nesmí být první ve jméně). V naší úloze bude vždy přítomno jméno souboru což je část za posledním oddělovačem. Jméno souboru nebude začínat tečkou. Přípona je část za poslední tečkou ve jméně souboru.</dd></dl>
<h2 class="doxsection"><a class="anchor" id="autotoc_md2"></a>
Zadání A</h2>
<p>Program je spuštěn s parametry na příkazovém řádku, kterými jsou jména souborů nebo cesty souborů. Parametr obsahuje vždy jméno souboru, a může obsahovat i cestu. Jméno souboru obsahuje jméno a příponu. Cesta obsahuje název drivu a adresářovou cestu. Adresářová cesta vždy obsahuje oddělovač na začátku i na konci.</p>
<p>Úkolem je rozložit parametry na tyto jednotlivé (čtyři) části. Pokud není daná část (drive, cesta, přípona) uvedena, zůstane položka prázdná.</p>
<p>Na základě těchto částí se budou soubory porovnávat. V tomto příkladu je úlohou nalézt a vytisknout přípony všech souborů, které se jmenují stejně jako spuštěný program (první parametr v dodaných parametrech příkazového řádku), a jsou ve stejném adresáři jako on.</p>
<p>Pro přehlednější ladění a manipulaci s parametry funkce <code>main</code> je ve funkci <code>main</code> připraveno pole názvů pro testování a volá se funkce <code>main_A</code>, která má stejné parametry jako <code>main</code> a při ladění tuto zastupuje.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md3"></a>
Upřesnění zadání</h2>
<ol type="1">
<li>Pro práci s řetězci zvolte typ <code>std::string</code>, na který převeďte všechny C řetězce.</li>
<li>Pro zjištění shodnosti rozdělte cestu souboru do čtyř řetězců <code>std::string</code> - drive, cesta, jméno a přípona. Alternativně zkuste použít typ <code>std::string_view</code>.</li>
<li>Tyto části (<em class="arg">iDrive</em>, <em class="arg">iPath</em>, <em class="arg">iName</em>, <em class="arg">iExtension</em>) zapouzdřete pro snadnější manipulaci do struktury <code>CFilePath</code>, společně se stringem <em class="arg">iOrig</em> obsahujícím originální cestu.</li>
<li>Pokud některá část nebude ve vstupním řetězci přítomna, zůstane příslušný string prázdný.</li>
<li>První parametr na příkazové řádce (reprezentující spuštěný soubor) musí obsahovat neprázdné všechny položky: drive, cesta, jméno a přípona. Ostatní parametry/názvy nemusí obsahovat drive a cestu (společně). Každý název však obsahuje neprázdnou část <em class="arg">iName</em>.</li>
<li>Nemá-li cesta k souboru drive a cestu, má se za to že leží ve stejném adresáři jako soubor předaný prvním parametrem.</li>
<li>Přípona je část jména souboru za poslední tečkou. Jméno souboru nemusí mít příponu. V cestě nebo jméně souboru může být tečka přítomna několikrát.</li>
<li>Název drivu končí dvojtečkou. Cesta začíná a končí lomítkem. Název přípony začíná tečkou.</li>
<li>Z hlediska tisku se <code>std::string</code> chová stejně jako ostatní datové typy.</li>
</ol>
<h2 class="doxsection"><a class="anchor" id="autotoc_md4"></a>
Možný postup řešení</h2>
<ol type="1">
<li>Nadefinujte strukturu obsahující <code>std::string(y)</code> pro názvy originální a odvozené: název drivu, adresáře, názvu souboru a přípony souboru</li>
<li>Vytvořte pole těchto struktur pro jednotlivé vstupní řetězce.</li>
<li>Přesuňte vstupní C řetězec do <code>std::string</code> a uložte ho do příslušné struktury.</li>
<li>Z originálního řetězce vyberte jednotlivé požadované části a uložte je do příslušných proměnných struktury (nejprve std::string, později <code>std::string_view</code>) . Jako původní řetězec používejte ten uložený ve struktuře (z důvodu možného přesunu kódu z main do funkce, kde originální řetězec nebude).</li>
<li>Po zpracování proveďte kontrolu, že po složení jednotlivých získaných částí vznikne původní název.</li>
<li>Ze zadaných souborů vytiskněte přípony těch souborů, které leží ve stejném adresáři jako spuštěný soubor a mají stejné jméno jako on.</li>
<li>Pro práci s řetězcem postupně použijte - operátor[], iterátory, rfind</li>
</ol>
<h2 class="doxsection"><a class="anchor" id="autotoc_md5"></a>
Klíčová slova pro řešení</h2>
<p>Pro datový typ <code>std::string</code> nastudujte a využijte tyto vlastnosti:</p><ul>
<li><code>operator=</code> - přiřazení stringů a možnost přiřazení C řetězce</li>
<li><code>operator</code>[]</li>
<li><code>substr()</code> </li>
<li><code>size()</code> </li>
<li><code>std::string::npos</code> - jak se používá?</li>
<li><code>rfind()</code> </li>
<li><code>operator==</code>, <code>operator!=</code> </li>
<li><code>empty()</code> </li>
<li><code>find_first_not_of</code> </li>
<li><code>operator""s</code>;</li>
</ul>
<p>Pro std::string_view také</p><ul>
<li><code>remove_prefix</code>, <code>remove_postfix</code> </li>
<li><code>operator""sv</code>;</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md6"></a>
Doplnění a rozšíření látky</h2>
<p>Ve struktuře <code>CFilePath</code> použijte <code>std::string</code> pouze pro vstupní název. Pro ostatní datové položky zvolte <code>std::string_view</code>. Popište k jakým změnám v programu díky tomu došlo a co se změnilo.</p>
<dl class="section note"><dt>Note</dt><dd>Při změně implementace původní strukturu nemažte, umožněte pomocí podmíněného překladu přepínání mezi oběmi implementacemi <code>CFilePath</code>.</dd></dl>
<h1 class="doxsection"><a class="anchor" id="autotoc_md7"></a>
Příklad B</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md8"></a>
Zadání B</h2>
<p>Realizujte výpočet postfixového výrazu (RPN) za pomoci kontejneru. Algoritmus najdete např. na <a href="https://cs.wikipedia.org/wiki/Postfixov%C3%A1_notace">wikipedii</a> v kapitole práce s postfixovou notací nebo v přednáškách ALD.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9"></a>
Upřesnění zadání</h2>
<ul>
<li>Funkce dostane jako parametr textový C řetězec, který obsahuje zápis pro výpočet v postfixovém tvaru.</li>
<li>Vstupní řetězec bude obsahovat znaménka binárních operací a čísla/hodnoty (pro snazší zpracování jednociferná (tj. '0'-'9').</li>
<li>Oddělovačem v řetězci bude mezera.</li>
<li>Vstupní řetězec po znaku uložte do kontejneru typu fronta, ze kterého znaky vybírejte a zpracovávejte.</li>
<li>Realizujte algoritmus zpracování (viz adresa výše).</li>
<li>Vytiskněte výslednou hodnotu.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md10"></a>
Klíčová slova pro řešení</h2>
<p>Na cppreference.com zjistěte význam pro následující vlastnosti:</p>
<p><em>std::stack</em> a pro něj</p><ul>
<li><em>empty</em></li>
<li><em>push</em></li>
<li><em>pop</em></li>
<li><em>top</em></li>
</ul>
<p><em>std::queue</em> a pro ni</p><ul>
<li><em>empty</em></li>
<li><em>push</em></li>
<li><em>front</em></li>
<li><em>pop</em> </li>
</ul>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
